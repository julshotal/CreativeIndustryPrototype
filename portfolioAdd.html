<!DOCTYPE html>
<html lang="en">
<head>
    <!-- BOOTSTRAP -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    
    <!-- bootstrap dependencies -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
     
    <!--- normal stuff -->
    <link rel="stylesheet" type="text/css" href="styles.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Creative Industry Day</title>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="row justify-content-center">
            <header>
              <h1>RIT Creative Industry Day</h1>
              <p>Please read the following instructions carefully before submitting your information.</p>
            </header>
        </div>

        <!-- CARD -->
        <div class="row justify-content-center">
            <div class="col-lg" id="info">
                    <div class="card text-left">
                        <div class="card-header" id="formCard">
                            <ul class="nav nav-tabs nav-justified card-header-tabs" id="options" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="profileTab" role="tab" href="#profile">Profile</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="educationTab" role="tab" href="#education">Education</a>
                                </li>
                                <!-- <li class="nav-item">
                                    <a class="nav-link" role="tab" href="#review">Review</a>
                                </li> -->
                            </ul>
                        </div>
                        <div class="card-body">
                            <form id="studentInfo">
                                <div class="tab-content">

                                    <!-- First Tab -->
                                    <div class="tab-pane active" id="profile" role="tabpanel">
                                        <div class="row">
                                            <!-- preferred name -->
                                            <div class="col-xs-1 col-md col-lg">
                                                <div class="form-group">
                                                    <label for="firstName">Preferred Name</label>
                                                    <input type="text" class="form-control" id="firstName" placeholder="Enter name" value="Jane">
                                                </div>
                                            </div>
                                            <!-- last name -->
                                            <div class="col-xs-1 col-md col-lg">
                                                <div class="form-group">
                                                    <label for="lastName">Last Name</label>
                                                    <div class="input-group">
                                                        <input type="text" class="form-control" id="lastName" placeholder="Enter last name" value="Doe">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <!-- email address -->
                                            <div class="col-xs-1 col-md col-lg">
                                                <div class="form-group">
                                                    <label for="email">Email Address</label>
                                                    <div class="input-group">
                                                        <input type="email" class="form-control" id="email" placeholder="name@rit.edu" value="jd12344@rit.edu">
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- portfolio link -->
                                            <div class="col-xs-1 col-md col-lg">
                                                <div class="form-group">
                                                    <label for="exampleInputEmail1">Portfolio</label>
                                                    <div class="input-group">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text" id="basic-addon2">http://</span>
                                                        </div>
                                                        <input type="url" class="form-control" id="portfolio" placeholder="name.com" value="janeD.design">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <!-- header image upload -->
                                            <div class="col-xs-1 col-md col-lg">
                                                <div class="form-group">
                                                    <label for="img">Header Image</label>
                                                    <p>258 pixels x 78 pixels</p>
                                                    <div class="input-group">
                                                        <input type="file" id="img" name="img" accept="image/jpeg">
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- image preview -->
                                            <div class="col-xs-1 col-md col-lg">
                                                <div class="form-group">
                                                    <label for="preview">Preview</label>
                                                    <div class="input-group">
                                                        <img id="imgPreview" src="#" alt="your image" style="max-width: 258px; max-height: 78px;" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Second Tab -->
                                    <div class="tab-pane" id="education" role="tabpanel">
                                        <div class="row">
                                            <div class="col-xs-1 col-md col-lg">
                                                 <!-- Major -->
                                                <div class="form-group">
                                                    <label for="major">Major</label>
                                                    <select class="form-control" id="major">
                                                        <option value="3D Digital Design (BFA)">3D Digital Design (BFA)</option>
                                                        <option value="Advert and Public Relations (BS)">Advert and Public Relations (BS)</option>
                                                        <option value="Applied Art and Sciences (BS)">Applied Art and Sciences (BS)</option>
                                                        <option value="Computer Science (BS)">Computer Science (BS)</option>
                                                        <option value="Film and Animation (BFA)">Film and Animation (BFA)</option>
                                                        <option value="Film and Animation (MFA)">Film and Animation (MFA)</option>
                                                        <option value="Fine Arts Studio (BFA)">Fine Arts Studio (BFA)</option>
                                                        <option value="Game Design and Development (BS">Game Design and Development (BS)</option>
                                                        <option value="Game Design and Development (MS)">Game Design and Development (MS)</option>
                                                        <option value="Graphic Design (BFA)">Graphic Design (BFA)</option>
                                                        <option value="Human-Centered Computing (BS)">Human-Centered Computing (BS)</option>
                                                        <option value="Illustration (BFA)">Illustration (BFA)</option>
                                                        <option value="Industrial Design (BFA)">Industrial Design (BFA)</option>
                                                        <option value="Industrial Design (MFA)">Industrial Design (MFA)</option>
                                                        <option value="Interior Design (BFA">Interior Design (BFA</option>
                                                        <option value="Medical Illustration (BFA)">Medical Illustration (BFA)</option>
                                                        <option value="Motion Piction Science (BS)">Motion Piction Science (BS)</option>
                                                        <option value="New Media Design (BFA)" selected>New Media Design (BFA)</option>
                                                        <option value="New Media Interactive Development (BS)">New Media Interactive Development (BS)</option>
                                                        <option value="Photo and Imaging Arts - Ad Photo (BFA)">Photo and Imaging Arts - Ad Photo (BFA)</option>
                                                        <option value="Photo and Imaging Arts - Photo Journal (BFA)">Photo and Imaging Arts - Photo Journal (BFA)</option>
                                                        <option value="Photo and Imaging Arts - Visual Media (BFA)">Photo and Imaging Arts - Visual Media (BFA)</option>
                                                        <option value="Software Engineering (BS)">Software Engineering (BS)</option>
                                                        <option value="Visual Communication Design (BFA)">Visual Communication Design (BFA)</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-xs-1 col-md col-lg">
                                                <!-- Year -->
                                                <div class="form-group">
                                                    <label for="year">Year</label>
                                                    <select class="form-control" id="year">
                                                        <option value="1st Yea">1st Year</option>
                                                        <option value="2nd Year">2nd Year</option>
                                                        <option value="3rd Year">3rd Year</option>
                                                        <option value="4th Year" selected>4th Year</option>
                                                        <option value="5th Year">5th Year</option>
                                                        <option value="1st Year Grad">1st Year Grad</option>
                                                        <option value="2nd Year Grad">2nd Year Grad</option>
                                                        <option value="3rd Year Grad">3rd Year Grad</option>
                                                        <option value="4th Year Grad">4th Year Grad</option>
                                                        <option value="5th Year Grad">4th Year Grad</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xs-1 col-md col-lg">
                                                <!-- Interests -->
                                                <div class="form-group">
                                                    <label for="interests">Interests</label>
                                                    <div class="interests input-group">
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox" value="interactiondesign">
                                                            <label class="form-check-label" for="inlineCheckbox1">interaction design</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox" value="motiongraphics">
                                                            <label class="form-check-label" for="inlineCheckbox2">motion graphics</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox" value="frontenddevelopment" checked>
                                                            <label class="form-check-label" for="inlineCheckbox3">front end development</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox" value="wireframing">
                                                            <label class="form-check-label" for="inlineCheckbox1">wireframing</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox" value="motiondesign" checked>
                                                            <label class="form-check-label" for="inlineCheckbox2">motion design</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox" value="illustration">
                                                            <label class="form-check-label" for="inlineCheckbox3">illustration</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            <input class="form-check-input" type="checkbox" value="graphicdesign">
                                                            <label class="form-check-label" for="inlineCheckbox3">graphic design</label>
                                                        </div>
                                                    </div>
                                                    <!-- add interest input -->
                                                    <div class="input-group">
                                                        <input type="text" class="form-control" id="addInterest" name="addInterst" placeholder="Add interest">
                                                        <div class="input-group-append">
                                                            <button class="btn" type="button" id="add">+</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Third Tab
                                    <div class="tab-pane" id="review" role="tabpanel">
                                        <div class="form-group">
                                        </div>
                                    </div> -->

                                    <!-- Review Modal -->
                                    <div class="modal fade" id="reviewModal" tabindex="-1" role="dialog"  aria-hidden="true">
                                        <div class="modal-dialog" role="document">
                                            <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="exampleModalLabel">Review Submission</h5>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="card text-left" id="reviewCard">
                                                    <div class="card-body" id="headerImg">
                                                    </div>
                                                    <div class="card-footer">
                                                    <p class="name-text" id="reviewName"></p> 
                                                    <p class="major-text" id="reviewEdu">New Media Design, 4th Year</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn" data-dismiss="modal">Cancel</button>
                                                <button type="submit" class="btn" id="submitForm">Submit</button>
                                            </div>
                                            <div id="message">
                                                    
                                            </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </form>
                         </div>
                    </div>
                </div>
            </div>

            <!-- PREVIOUS AND NEXT BUTTONS -->
            <div class="row">
                <div class="col text-left">
                    <button class="btn" type="button" id="back" disabled>Previous</button> 
                </div>

                <div class="col text-right">
                    <button class="btn" type="button" id="next">Next</button>
                </div>
            </div>

            <!-- FOOTER -->
            <div class="row d-flex justify-content-center align-items-end">
                <footer>
                    <p>Having Trouble? Contact Professor Adam Smith:  <span style="color: #F76902">adam.smith@rit.edu</span></p>
                </footer>
            </div>
    </div>

    <script>
        $(document).ready(function () {
            //swap tabs
            $('#options a').on('click', function (e) {
                const nextBtn = document.getElementById('next');
                const backBtn = document.getElementById('back');

                if(this.id === 'profileTab') {
                    backBtn.disabled = true;
                    nextBtn.innerText = 'Next';
                }

                if(this.id === 'educationTab') {
                    backBtn.disabled = false;
                    nextBtn.innerText = 'Review';
                }
                
                console.log(this.id);

                e.preventDefault();
                $(this).tab('show');
            });

            //add new interest from input field
            $('#add').on('click', function(e) {
                const newInterest = document.getElementById('addInterest').value;
                if(newInterest) {
                    /*  <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" value="MD" selected>
                            <label class="form-check-label" for="inlineCheckbox2">motion design</label>
                        </div>
                    */
                    const div = document.createElement('div');   
                    const checkBox = document.createElement('input');
                    const label = document.createElement('label');

                    checkBox.className = 'form-check-input';
                    checkBox.type = 'checkbox';
                    const val = newInterest.replace(' ', '');
                    checkBox.value = `${val}`;
                    checkBox.checked = true;

                    label.className = 'form-check-label';
                    div.className = 'form-check form-check-inline';

                    const textnode = document.createTextNode(newInterest);     

                    label.appendChild(textnode);         
                    div.appendChild(checkBox);
                    div.appendChild(label);

                    document.querySelector('.interests').appendChild(div); 
                    document.getElementById('addInterest').value = '';
                }
            });

            //image preview
            /* taken from: https://stackoverflow.com/questions/4459379/preview-an-image-before-it-is-uploaded */
            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();
                    
                    reader.onload = function (e) {
                        document.getElementById('imgPreview').src = e.target.result;
                        document.getElementById('headerImg').css('background-image',`url(${e.target.result})`);;
                    }
                    
                    reader.readAsDataURL(input.files[0]);
                }
            }
            
            $("#img").change(function(){
                readURL(this);
            });

            //open next tab on next button click
            $('#next').on('click', function(e) {
                e.preventDefault();
                const nextTab = document.querySelector('#educationTab');
                $(nextTab).tab('show');

                const nextBtn = document.getElementById('next');
                const backBtn = document.getElementById('back');

                if(nextBtn.innerText === 'Review') {
                    document.getElementById('reviewName').innerHTML = document.getElementById('firstName').value + ' ' + document.getElementById('lastName').value; 
                    document.getElementById('reviewEdu').innerHTML = document.getElementById('major').value + ', ' + document.getElementById('year').value ;

                    // document.getElementById('reviewLink').href = 'http://' + document.getElementById("portfolio").value;
                    // document.getElementById('reviewLink').innerHTML = 'http://' + document.getElementById("portfolio").value;

                    $('#reviewModal').modal('show');
                }

                backBtn.disabled = false;
                nextBtn.innerText = 'Review';
            });

            //go back a tab on back button click
            $('#back').on('click', function(e) {
                e.preventDefault();
                const backTab = document.querySelector('#profileTab');
                $(backTab).tab('show');

                const nextBtn = document.getElementById('next');
                const backBtn = document.getElementById('back');

                backBtn.disabled = true;
                nextBtn.innerText = 'Next';
            });

            //"submit" form
            $('#submitForm').click(function() {
                document.querySelector('#message').className = 'alert alert-success';
                document.querySelector('#message').role = 'alert alert-success';
                document.querySelector('#message').innerHTML = 'Portfolio uploaded successfully';
                
                setInterval(function(){ 
                    window.location.href = 'index.html';
                    return false;
                 }, 1000);
            });
        });


        // <div class="row">
        //                                             <!-- preferred name -->
        //                                             <div class="col-xs-1 col-md col-lg">
        //                                                 <h6>Preferred Name</h6>
        //                                                 <p id="reviewFirstName"></p>
        //                                             </div>
        //                                             <!-- last name -->
        //                                             <div class="col-xs-1 col-md col-lg">
        //                                                 <h6>Last Name</h6>
        //                                                 <p id="reviewLastName"></p>
        //                                             </div>
        //                                         </div>
        //                                         <div class="row">
        //                                             <!-- email address -->
        //                                             <div class="col-xs-1 col-md col-lg">
        //                                                 <h6>Email Address</h6>
        //                                                 <p id="reviewEmail"></p>
        //                                             </div>
        //                                             <!-- portfolio link -->
        //                                             <div class="col-xs-1 col-md col-lg">
        //                                                 <h6>Portfolio</h6>
        //                                                 <a id="reviewLink" href=""></a>
        //                                             </div>
        //                                         </div>
        //                                         <div class="row">
        //                                             <!-- header image upload -->
        //                                             <div class="col-xs-1 col-md col-lg">
        //                                                 <h6>Header Image</h6>
        //                                                 <p>A placeholder image will be used if a header was not uploaded</p>
        //                                                 <img id="reviewHeader" src="#" alt="your image" style="max-width: 258px; max-height: auto;">
        //                                             </div>
        //                                         </div>
    </script>
</body>
</html>